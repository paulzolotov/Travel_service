# Travel_service 
<p align="center">
  <img width="100px" height="100px" src="./final_edu_project/travel_service/booking/static/logo.png" alt="BusBY">
</p>

**Travel_service** - это сервис для онлайн-бронирования поездок между различными городами.

**Благодаря данному сервису** пользователь может с легкостью забронировать поездку, а в случае 
необходимости отменить ее бронирование. Для это необходимо всего-лишь зарегистрироваться в системе и выбрать 
интересующее направление, дату поездки, а также время отправления машины перевозчика. После успешного бронирования 
на почту отправляется билет выбранной поездки в pdf формате.    

## Запуск

Для запуска сервиса у вас уже должен быть установлен Python 3.

- Скачайте проект из репозитория
- Установите зависимости командой `pip install -r requirements.txt`
- Запустите сервер командой `python3 manage.py runserver`

После этого переходите по ссылке [127.0.0.1:8000](http://127.0.0.1:8000), вы увидите главную страницу.

## Необходимые сервисы

Для корректной работы сервиса необходимо настроить взаимодействие с postgresql:

+ создать БД используя параметры ```DATABASE``` из файла ```settings.py```
+ выполнить миграции `python3 manage.py migrate`

Для взаимодействия с `celery` и `celery beat` необходимо установить брокер сообщений `redis`.
Затем необходимо для каждой из последующих команд открыть новый терминал, перейдя 
непосредственно в папку с проектом.

```
redis-server
python3 -m celery -A travel_service worker 
celery -A travel_service beat
```

Для отслеживания сообщений, отправляемых на почту пользователя, можно воспользоваться следующим сервисом

`python3 -m smtpd -n -c DebuggingServer localhost:1025`

## Описание проекта

Данный сервис состоит из 3ех приложений: 
+ `booking` - основное приложение для отображения информации о поездках, а также для 
бронирования поездки
+ `users` - приложение для взаимодействия с пользователем (вход в сервис, регистрация и т.д)
+ `api` - api сервиса, для получения информации о поездках 

Для модификации направлений, дней, и самим поездок необходим как минимум 1 модератор, 
который сможет изменить необходимую информацию через admin-панель. Для этого необходимо: 

+ создать суперпользователя  `python3 manage.py createsuperuser`
+ перейти по адресу [http://127.0.0.1:8000/admin/](http://127.0.0.1:8000/admin/)

## Запуск с помощью docker-compose

- `docker-compose up -d --build`

